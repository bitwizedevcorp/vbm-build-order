"use strict";(()=>{var e={};e.id=965,e.ids=[965],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},77945:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>_,patchFetch:()=>b,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>u});var o={};r.r(o),r.d(o,{GET:()=>d});var n=r(49303),i=r(88716),a=r(60670),s=r(87070),p=r(83493);async function d(e,{params:t}){let[r,o]=t.idorden_idpunnet.split("_");try{let e=await p.Z.tb_reception_asociados_order.findMany({where:{idorden:Number(r),idpunnet:Number(o)}}),t=e.map(e=>e.nropallet_recepcion),n=(await p.Z.tb_recepcion.findMany({where:{nropallet:{in:t}},select:{nropallet:!0,box_disponible:!0,kg_disponible:!0,state:!0}})).reduce((e,t)=>(e[t.nropallet.toString()]={box_disponible:Number(t.box_disponible),kg_disponible:Number(t.kg_disponible),state:t.state},e),{}),i=e.map(e=>({...e,box_disponible:n[e.nropallet_recepcion.toString()]?.box_disponible||0,kg_disponible:n[e.nropallet_recepcion.toString()]?.kg_disponible||0,state:n[e.nropallet_recepcion.toString()]?.state||null})),a=[];for(let e of i)1===e.state&&a.push(e);return s.NextResponse.json(a)}catch(e){return console.error("Error fetching data:",e),s.NextResponse.json({message:"Error fetching data",error:e},{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/getReceptionAsociadosOrder/[idorden_idpunnet]/route",pathname:"/api/getReceptionAsociadosOrder/[idorden_idpunnet]",filename:"route",bundlePath:"app/api/getReceptionAsociadosOrder/[idorden_idpunnet]/route"},resolvedPagePath:"/Users/bogdanvoicu/Desktop/vbm-order-tracking/src/app/api/getReceptionAsociadosOrder/[idorden_idpunnet]/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:u,serverHooks:g}=c,_="/api/getReceptionAsociadosOrder/[idorden_idpunnet]/route";function b(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:u})}},83493:(e,t,r)=>{r.d(t,{Z:()=>o});let o=new(require("@prisma/client")).PrismaClient}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[948,972],()=>r(77945));module.exports=o})();